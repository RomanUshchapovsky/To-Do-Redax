{"ast":null,"code":"import _toConsumableArray from \"/home/usersmart/Desktop/ToDo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/usersmart/Desktop/ToDo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { actionTypes } from '../constants';\nimport initialState from './store';\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.FETCH_TODOS.REQUEST:\n    case actionTypes.FETCH_TODO.REQUEST:\n    case actionTypes.CREATE_TODO.REQUEST:\n    case actionTypes.UPDATE_TODO.REQUEST:\n    case actionTypes.REMOVE_TODO.REQUEST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: null\n      });\n\n    case actionTypes.CREATE_TODO.SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        todos: _toConsumableArray(state.todos).concat(action.payload)\n      });\n    // case actionTypes.UPDATE_TODO.SUCCESS:\n    //     return { ...state, loading: false, todos: [...state.todos].concat(action.payload), selectedTodo: [...state.todos.id] };\n\n    case actionTypes.UPDATE_TODO.SUCCESS:\n      var todoIdx = state.todos.findIndex(function (todo) {\n        return todo.id === action.payload.id;\n      });\n\n      var newTodos = _toConsumableArray(state.todos);\n\n      newTodos[todoIdx] = action.payload;\n      console.log('newTodos', newTodos);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        todos: newTodos,\n        selectedTodo: null\n      });\n\n    case actionTypes.REMOVE_TODO.SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        todos: _toConsumableArray(state.todos).filter(function (t) {\n          return t.id !== action.payload;\n        })\n      });\n\n    case actionTypes.FETCH_TODOS.FAILURE:\n    case actionTypes.FETCH_TODO.FAILURE:\n    case actionTypes.CREATE_TODO.FAILURE:\n    case actionTypes.UPDATE_TODO.FAILURE:\n    case actionTypes.REMOVE_TODO.FAILURE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/usersmart/Desktop/ToDo/src/containers/store/reducers.js"],"names":["actionTypes","initialState","state","action","type","FETCH_TODOS","REQUEST","FETCH_TODO","CREATE_TODO","UPDATE_TODO","REMOVE_TODO","loading","error","SUCCESS","todos","concat","payload","todoIdx","findIndex","todo","id","newTodos","console","log","selectedTodo","filter","t","FAILURE"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,OAAOC,YAAP,MAAyB,SAAzB;AAEA,gBAAe,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBD,YAAyB;AAAA,MAAXE,MAAW;;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKJ,WAAW,CAACK,WAAZ,CAAwBC,OAA7B;AACA,SAAKN,WAAW,CAACO,UAAZ,CAAuBD,OAA5B;AACA,SAAKN,WAAW,CAACQ,WAAZ,CAAwBF,OAA7B;AACA,SAAKN,WAAW,CAACS,WAAZ,CAAwBH,OAA7B;AACA,SAAKN,WAAW,CAACU,WAAZ,CAAwBJ,OAA7B;AACI,6CAAYJ,KAAZ;AAAmBS,QAAAA,OAAO,EAAE,IAA5B;AAAkCC,QAAAA,KAAK,EAAE;AAAzC;;AAEJ,SAAKZ,WAAW,CAACQ,WAAZ,CAAwBK,OAA7B;AACI,6CAAYX,KAAZ;AAAmBS,QAAAA,OAAO,EAAE,KAA5B;AAAmCG,QAAAA,KAAK,EAAE,mBAAIZ,KAAK,CAACY,KAAV,EAAiBC,MAAjB,CAAwBZ,MAAM,CAACa,OAA/B;AAA1C;AAGJ;AACA;;AACA,SAAKhB,WAAW,CAACS,WAAZ,CAAwBI,OAA7B;AACI,UAAMI,OAAO,GAAGf,KAAK,CAACY,KAAN,CAAYI,SAAZ,CAAsB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,EAAL,KAAYjB,MAAM,CAACa,OAAP,CAAeI,EAA/B;AAAA,OAA1B,CAAhB;;AACA,UAAMC,QAAQ,sBAAOnB,KAAK,CAACY,KAAb,CAAd;;AACAO,MAAAA,QAAQ,CAACJ,OAAD,CAAR,GAAoBd,MAAM,CAACa,OAA3B;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBF,QAAvB;AACA,6CAAYnB,KAAZ;AAAmBS,QAAAA,OAAO,EAAE,KAA5B;AAAmCG,QAAAA,KAAK,EAAEO,QAA1C;AAAoDG,QAAAA,YAAY,EAAE;AAAlE;;AAEJ,SAAKxB,WAAW,CAACU,WAAZ,CAAwBG,OAA7B;AACI,6CAAYX,KAAZ;AAAmBS,QAAAA,OAAO,EAAE,KAA5B;AAAmCG,QAAAA,KAAK,EAAE,mBAAIZ,KAAK,CAACY,KAAV,EAAiBW,MAAjB,CAAwB,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACN,EAAF,KAASjB,MAAM,CAACa,OAApB;AAAA,SAAzB;AAA1C;;AAEJ,SAAKhB,WAAW,CAACK,WAAZ,CAAwBsB,OAA7B;AACA,SAAK3B,WAAW,CAACO,UAAZ,CAAuBoB,OAA5B;AACA,SAAK3B,WAAW,CAACQ,WAAZ,CAAwBmB,OAA7B;AACA,SAAK3B,WAAW,CAACS,WAAZ,CAAwBkB,OAA7B;AACA,SAAK3B,WAAW,CAACU,WAAZ,CAAwBiB,OAA7B;AACI,6CAAYzB,KAAZ;AAAmBS,QAAAA,OAAO,EAAE,KAA5B;AAAmCC,QAAAA,KAAK,EAAET,MAAM,CAACa;AAAjD;;AACJ;AACI,aAAOd,KAAP;AA/BR;AAiCH,CAlCD","sourcesContent":["import { actionTypes } from '../constants';\nimport initialState from './store';\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.FETCH_TODOS.REQUEST:\n        case actionTypes.FETCH_TODO.REQUEST:\n        case actionTypes.CREATE_TODO.REQUEST:\n        case actionTypes.UPDATE_TODO.REQUEST:\n        case actionTypes.REMOVE_TODO.REQUEST:\n            return { ...state, loading: true, error: null };\n\n        case actionTypes.CREATE_TODO.SUCCESS:\n            return { ...state, loading: false, todos: [...state.todos].concat(action.payload) }\n\n\n        // case actionTypes.UPDATE_TODO.SUCCESS:\n        //     return { ...state, loading: false, todos: [...state.todos].concat(action.payload), selectedTodo: [...state.todos.id] };\n        case actionTypes.UPDATE_TODO.SUCCESS:\n            const todoIdx = state.todos.findIndex(todo => todo.id === action.payload.id);\n            const newTodos = [...state.todos];\n            newTodos[todoIdx] = action.payload;\n            console.log('newTodos',newTodos);\n            return { ...state, loading: false, todos: newTodos, selectedTodo: null };\n\n        case actionTypes.REMOVE_TODO.SUCCESS:\n            return { ...state, loading: false, todos: [...state.todos].filter(t => t.id !== action.payload) };\n\n        case actionTypes.FETCH_TODOS.FAILURE:\n        case actionTypes.FETCH_TODO.FAILURE:\n        case actionTypes.CREATE_TODO.FAILURE:\n        case actionTypes.UPDATE_TODO.FAILURE:\n        case actionTypes.REMOVE_TODO.FAILURE:\n            return { ...state, loading: false, error: action.payload };\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}